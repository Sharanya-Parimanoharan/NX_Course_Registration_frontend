<mono-repo-nav-menu-nav-menu></mono-repo-nav-menu-nav-menu>
<body>
<p class="text-center fs-3" [ngClass]="isAccountCreated ? 'text-success pb-1' : 'text-danger pb-1'">
    {{displayMsg}}
</p>

<form class="border p-3 rounded-3 perfect-centering" [formGroup]="registerfrm" (ngSubmit)="registerSubmit()">
    <div class="row g-0">
        <div class="col text-center p-2 mb-3 bg-secondary">
            <span class="fs-3">Register</span>
        </div>
    </div>

    <div class="row">
        <div class="col mb-3 ">
            <label for="firstname" class="form-label">First Name</label>
            <input type="text" class="form-control" id="firstname" formControlName="firstname" />
            <div class="form-text text-danger" *ngIf="firstname.errors?.['required'] && (firstname.touched || firstname.dirty)">
                First Name is Required
            </div>
            <div class="form-text text-danger" *ngIf="firstname.errors?.['pattern'] && (firstname.touched || firstname.dirty)">
                First Name should contain only alphabets
            </div>

        </div>
        <div class="col mb-3 ">
            <label for="lastname" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="lastname" formControlName="lastname" />
            <div class="form-text text-danger" *ngIf="lastname.errors?.['required'] && (lastname.touched || lastname.dirty)">
                Last Name is Required
            </div>
            <div class="form-text text-danger" *ngIf="lastname.errors?.['pattern'] && (lastname.touched || lastname.dirty)">
                Last Name should contain only alphabets
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col mb-3 ">
            <label for="email" class="form-label">Email Address</label>
            <input type="email" class="form-control" id="email" formControlName="email" />
            <div class="form-text text-danger" *ngIf="email.errors?.['required'] && (email.touched || email.dirty)">
                Email is Required
            </div>
            <div class="form-text text-danger" *ngIf="email.errors?.['email'] && (email.touched || email.dirty)">
                Invalid Email
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col mb-3 ">
            <label for="mobile" class="form-label">Mobile Number</label>
            <input type="text" class="form-control" id="mobile" formControlName="mobile" />
            <div class="form-text text-danger" *ngIf="mobile.errors?.['required'] && (mobile.touched || mobile.dirty)">
                Mobile Number is Required
            </div>
            <div class="form-text text-danger" *ngIf="mobile.errors?.['pattern']  && (mobile.touched || mobile.dirty)">
                Invalid Mobile Number-Should contain only numbers
            </div>
            <div class="form-text text-danger" *ngIf="mobile.errors?.['minlength'] && (mobile.touched || mobile.dirty)">
                Mobile Number is too short
            </div>
            <div class="form-text text-danger" *ngIf="mobile.errors?.['maxlength'] && (mobile.touched || mobile.dirty)">
                Mobile Number is too long
            </div>
        </div>
        <!--
            <div class="col ps-3">
                <div class="m-1">
                    Degree<span style="color:red" *ngIf="degree.errors?.['required']">*</span>
                </div>
                <div class="form-check ">
                    <input type="radio" class="form-check-input" value="cm" id="cm" name="degree" formControlName="degree" />
                    <label class="form-check-label" for="cm">CM</label>
                </div>
                <div class="form-check ">
                    <input type="radio" class="form-check-input" value="physical" id="physical" name="degree" formControlName="degree" />
                    <label class="form-check-label" for="physical">Physical Science</label>
                </div>
                <div class="form-check ">
                    <input type="radio" class="form-check-input" value="bio" id="bio" name="degree" formControlName="degree" />
                    <label class="form-check-label" for="bio">Bio Science</label>
                </div>
                <div class="form-check ">
                    <input type="radio" class="form-check-input" value="sor" id="sor" name="degree" formControlName="degree" />
                    <label class="form-check-label" for="sor">SOR</label>
                </div>
                
          -->

    </div>
    <div class="row">
        <div class="col mb-3 ">
            <label for="studentId" class="form-label">Student NIC</label>
            <input type="text" class="form-control" id="studenId" formControlName="studentid" />
            <div class="form-text text-danger" *ngIf="studentid.errors?.['required'] && (studentid.touched || studentid.dirty)">
                NIC is Required
            </div>
        </div>
        <div class="col mb-3 ">
        </div>
    </div>

    <div class="row">
        <div class="col mb-3 ">
            <label for="pwd" class="form-label">Password</label>
            <mat-form-field >
                <div class="input-group">
                    <input matInput [type]="hide? 'password':'text'" class="form-control" id="pwd" formControlName="pwd"   (focus)="pwdFocus = true" (blur)="pwdFocus = false"/>
                    <mat-icon matSuffix (click)="hide=!hide" style="color: black; cursor: pointer">
                        {{hide? 'visibility_off' : 'visibility'}}
                    </mat-icon>
                </div>
            </mat-form-field>

            <div class="form-text text-danger" *ngIf="pwd.errors?.['required'] && (pwd.touched || pwd.dirty)">
                Password  is Required
            </div>

            <div class="text-red-400 text-sm" *ngIf="pwd?.dirty && pwdFocus">

                <span class="block" [ngClass]="{'text-primary': pwd?.value?.match('^(?=.*[A-Z])')}">At least uppercase letter.</span>

                <span class="block" [ngClass]="{'text-primary': pwd?.value?.match('(?=.*[a-z])')}">At least one lowercase letter.</span>

                <span class="block" [ngClass]="{'text-primary': pwd?.value?.match('(.*[0-9].*)')}">At least one digit.</span>

                <span class="block" [ngClass]="{'text-primary': pwd?.value?.match('(?=.*[!@#$%^&*])')}">At least one special character.</span>

                <span class="block" [ngClass]="{'text-primary': pwd?.value?.match('.{8,}')}">At least 8 characters long.</span>

            </div>


        </div>
            <div class="col mb-3 ">
                <label for="rpwd" class="form-label">Repeat Password</label>
                <mat-form-field>
                    <div class="input-group">
                        <input matInput [type]="hide? 'password':'text'" class="form-control" id="rpwd" formControlName="rpwd" />
                        <mat-icon matSuffix (click)="hide=!hide" style="color:black; cursor:pointer">
                            {{hide? 'visibility_off' : 'visibility'}}
                        </mat-icon>
                    </div>
                </mat-form-field>
                <div class="form-text text-danger" *ngIf="rpwd.errors?.['required'] && (rpwd.touched || rpwd.dirty)">
                    Repeat Password is Required
                </div>
                <div class="form-text text-danger" [ngStyle]="{'display':repeatPass}">
                    Repeat Password is Invalid
                </div>


            </div>
        </div>

    <div class="row">
        <div class="col-6 offset-3">
            <div class="d-grid">
                <button type="submit" class="btn btn-primary" [disabled]="registerfrm.invalid">Submit </button>
            </div>
        </div>
    </div>

    <div class="=row">
        <div class="col mt-3">
            <span class="me-2">Already have Account ?<a routerLink="/signin"> Login</a></span>
        </div>
    </div>

</form>

</body>
